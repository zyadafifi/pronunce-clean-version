/* HomePage.css - Exact copy from styles.css */

:root {
  --sna-primary: #63a29b;
  --sna-secondary: #275151;
  --sna-primary-light: #8abdb7;
  --sna-primary-lighter: #b1d7d3;
  --sna-secondary-dark: #1c3c3c;

  --text-dark: #2c3e50;
  --text-light: #ffffff;
  --text-muted: #6c757d;

  --background-light: #f4f7f6;
  --background-white: #ffffff;
  --border-light: #e9ecef;

  --gradient-primary: linear-gradient(
    135deg,
    var(--sna-primary) 0%,
    var(--sna-secondary) 100%
  );
  --gradient-card: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);

  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
  --shadow-primary: 0 10px 30px rgba(99, 162, 155, 0.2),
    0 5px 15px rgba(99, 162, 155, 0.1);

  --radius-sm: 4px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 18px;
  --radius-full: 50%;
}

/* Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Nunito", sans-serif;
  color: var(--text-dark);
  line-height: 1.6;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Gaming Background Canvas */
.gaming-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
  opacity: 0.8;
  transition: opacity 0.3s ease;
}

/* Gaming background effects */
body {
  background: #0f0f23;
  overflow-x: hidden;
}

/* Ensure header is completely hidden on mobile */
@media (max-width: 768px) {
  .header {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  .main-container {
    margin-top: 0 !important;
    padding-top: 1rem !important;
  }
}

/* Add some glow effects to main content */
.main-container {
  position: relative;
  z-index: 1;
}

.lessons-path-container {
  position: relative;
  z-index: 2;
}

/* Header Styles */
.header {
  background: var(--gradient-primary);
  padding: 1rem;
  box-shadow: var(--shadow-sm);
  position: sticky;
  top: 0;
  z-index: 100;
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Logo Styles */
.logo-container {
  display: flex;
  align-items: center;
}

.navbar-logo {
  height: 40px;
  border-radius: var(--radius-sm);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.app-title {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.app-icon {
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.2rem;
  box-shadow: 0 4px 12px rgba(99, 162, 155, 0.3);
}

.app-title h1 {
  font-size: 1.5rem;
  font-weight: 600;
  color: white;
  margin: 0;
}

/* Main Container */
.main-container {
  flex: 1;
  max-width: 1200px;
  width: 100%;
  margin: 0 auto;
  padding: 1rem;
}

/* Path-based Lessons Container */
.lessons-path-container {
  position: relative;
  min-height: 1000px;
  width: 100%;
  padding: 1rem;
  overflow: hidden; /* Prevent content from going outside */
}

/* SVG Path Container */
.lessons-path-svg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
}

.lesson-path {
  fill: none;
  stroke-width: 3;
  transition: stroke 0.3s ease;
  z-index: 1;
}

.lesson-path.completed {
  stroke: var(--sna-primary);
  stroke-dasharray: none;
}

.lesson-path.incomplete {
  stroke: var(--text-muted);
  stroke-dasharray: 10, 5;
}

/* Lesson Node Styles */
.lesson-node {
  position: absolute;
  z-index: 2;
  display: flex;
  align-items: center;
  gap: 1rem;
  transform: translate(-50%, -50%);
  transition: all 0.3s ease;
}

/* Lesson Circle */
.lesson-circle {
  position: relative;
  width: 80px;
  height: 80px;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  flex-shrink: 0;
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  background: transparent; /* Remove background */
  overflow: hidden; /* Ensure avatar doesn't overflow */
}

.lesson-circle.completed {
  background: transparent;
  border: 4px solid var(--sna-primary-light);
  box-shadow: var(--shadow-primary);
}

.lesson-circle.in-progress {
  background: transparent;
  border: 4px solid var(--sna-primary);
  box-shadow: var(--shadow-md);
}

.lesson-circle.locked {
  background: transparent;
  border: 4px solid #dee2e6;
  opacity: 0.6;
  cursor: not-allowed;
}

.lesson-circle.current {
  animation: pulse 2s infinite;
  border-color: #7c3aed;
  background: transparent;
}

/* Desktop lesson circle hover effects with higher specificity */
.lesson-node .lesson-circle:hover {
  transform: scale(1.05) !important;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4) !important;
}

.lesson-node .lesson-circle.completed:hover {
  box-shadow: 0 12px 30px rgba(99, 162, 155, 0.5) !important;
}

.lesson-node .lesson-circle.in-progress:hover {
  box-shadow: 0 12px 30px rgba(99, 162, 155, 0.4) !important;
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(124, 58, 237, 0.4);
  }
  70% {
    box-shadow: 0 0 0 15px rgba(124, 58, 237, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(124, 58, 237, 0);
  }
}

/* Lesson Avatar */
.lesson-avatar {
  width: 60px;
  height: 60px;
  border-radius: var(--radius-full);
  background-color: #ddd;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  border: 2px solid white;
}

.lesson-circle.locked .lesson-avatar {
  filter: grayscale(100%);
}

/* Lesson Icon for lessons without avatar */
.lesson-icon {
  font-size: 1.8rem; /* Increased icon size for better visibility */
  color: white;
}

.lesson-circle.locked .lesson-icon {
  color: var(--text-muted);
}

/* Checkmark for completed lessons */
.lesson-checkmark {
  position: absolute;
  bottom: 5px; /* Moved further inward to prevent circle edge cutoff */
  right: 5px; /* Moved further inward to prevent circle edge cutoff */
  width: 28px;
  height: 28px;
  background: #22c55e;
  border: 2px solid white; /* Reduced border width to fit better */
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 0.8rem;
  font-weight: bold;
  z-index: 3; /* Ensure checkmark appears above everything */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); /* Add shadow for better visibility */
}

/* Lesson Info Panel - Now styled as simple text with arrow */
.lesson-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 300px; /* Increased min-width to accommodate longer text */
  background: rgba(255, 255, 255, 0.1);
  padding: 0.75rem 1rem;
  border-radius: 12px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.lesson-info:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

.lesson-info:hover .lesson-title,
.lesson-info:hover .lesson-arrow {
  color: var(--sna-primary);
}

/* Desktop lesson info title and arrow hover effects with higher specificity */
.lesson-node .lesson-info:hover .lesson-title {
  color: var(--sna-primary) !important;
  transform: scale(1.05) !important;
  text-shadow: 0 2px 8px rgba(99, 162, 155, 0.3) !important;
}

.lesson-node .lesson-info:hover .lesson-arrow {
  color: var(--sna-primary) !important;
  transform: translateX(3px) !important;
}

.lesson-info.locked {
  opacity: 0.6;
  cursor: not-allowed;
}

.lesson-info.locked:hover .lesson-title,
.lesson-info.locked:hover .lesson-arrow {
  color: var(--text-muted);
}

.lesson-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.lesson-title {
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 0.25rem;
  margin-top: 0;
  margin-left: 0;
  color: #ffffff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  margin-right: 0;
  padding: 0;
  transition: color 0.3s ease;
  align-self: flex-start;
  width: 100%;
}

/* Lesson Subtitle */
.lesson-subtitle {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.8);
  margin: 0;
  padding: 0;
  align-self: flex-start;
  width: 100%;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Lesson Arrow */
.lesson-arrow {
  font-size: 1.2rem;
  color: rgba(255, 255, 255, 0.7);
  transition: color 0.3s ease;
  flex-shrink: 0;
}

/* Alternate positioning for left and right */
.lesson-node.left {
  flex-direction: row;
}

.lesson-node.right {
  flex-direction: row-reverse;
}

.lesson-node.right .lesson-info {
  text-align: right;
}

.lesson-node.right .lesson-content {
  align-items: flex-end;
}

/* No Results Message */
.no-results {
  text-align: center;
  padding: 4rem 2rem;
  color: var(--text-muted);
}

.no-results i {
  font-size: 3rem;
  margin-bottom: 1rem;
  color: var(--sna-primary-light);
}

.no-results h3 {
  margin-bottom: 0.5rem;
}

/* Footer */
.footer {
  background: var(--gradient-primary);
  color: white;
  text-align: center;
  padding: 1.5rem;
  margin-top: auto;
}

.footer p {
  margin: 0;
  font-size: 0.9rem;
}

/* Mobile Responsive Design - Alternating Layout with Safe Boundaries */
@media (max-width: 768px) {
  /* Hide header on mobile */
  .header {
    display: none !important;
  }

  /* Mobile lessons container with safe margins */
  .lessons-path-container {
    padding: 1.5rem 60px; /* Increased horizontal padding to prevent circle cutoff */
    min-height: 1500px; /* Increased height to accommodate larger nodes and spacing */
    overflow-x: hidden; /* Prevent horizontal scroll */
  }

  /* Main container adjustments */
  .main-container {
    padding: 1rem 0; /* Remove horizontal padding to maximize width */
    width: 100%;
    max-width: 100vw; /* Ensure full viewport width usage */
  }

  /* Mobile lesson nodes - maintain alternating left/right layout with safe positioning */
  .lesson-node {
    display: flex;
    align-items: center;
    gap: 1rem; /* Increased gap for better spacing with larger elements */
    max-width: calc(
      100vw - 140px
    ); /* Adjusted to account for increased padding and prevent cutoff */
    margin-bottom: 2rem; /* Add more vertical spacing between nodes */
  }

  /* Maintain left/right alternating pattern on mobile */
  .lesson-node.left {
    flex-direction: row;
  }

  .lesson-node.right {
    flex-direction: row-reverse;
  }

  .lesson-node.right .lesson-info {
    text-align: right;
  }

  .lesson-node.right .lesson-content {
    align-items: flex-end;
  }

  /* Mobile circle sizes - larger for better touch interaction */
  .lesson-circle {
    width: 100px;
    height: 100px;
    flex-shrink: 0; /* Prevent circle from shrinking */
  }

  .lesson-avatar {
    width: 80px;
    height: 80px;
  }

  /* Mobile lesson info adjustments with responsive width - larger for better visibility */
  .lesson-info {
    min-width: 280px; /* Increased min-width to accommodate longer text */
    max-width: calc(
      80vw - 180px
    ); /* Increased max-width to provide more space for content */
    flex-shrink: 1; /* Allow text to shrink if needed */
    padding: 1.5rem 1.5rem; /* Increased padding for more height and width */
    min-height: 100px !important; /* Increased minimum height to match larger circles */
    border-radius: 16px; /* Slightly larger border radius for modern look */
  }

  /* Mobile lesson info hover effects with higher specificity */
  .lesson-node .lesson-info:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
  }

  .lesson-node .lesson-info:hover .lesson-title,
  .lesson-node .lesson-info:hover .lesson-arrow {
    color: var(--sna-primary) !important;
  }

  /* Mobile lesson info title and arrow hover effects with higher specificity */
  .lesson-node .lesson-info:hover .lesson-title {
    color: var(--sna-primary) !important;
    transform: scale(1.05) !important;
    text-shadow: 0 2px 8px rgba(99, 162, 155, 0.3) !important;
  }

  .lesson-node .lesson-info:hover .lesson-arrow {
    color: var(--sna-primary) !important;
    transform: translateX(3px) !important;
  }

  /* Mobile lesson circle hover effects with higher specificity */
  .lesson-node .lesson-circle:hover {
    transform: scale(1.05) !important;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4) !important;
  }

  .lesson-node .lesson-circle.completed:hover {
    box-shadow: 0 12px 30px rgba(99, 162, 155, 0.5) !important;
  }

  .lesson-node .lesson-circle.in-progress:hover {
    box-shadow: 0 12px 30px rgba(99, 162, 155, 0.4) !important;
  }

  .lesson-title {
    font-size: 1.1rem; /* Increased font size */
    font-weight: 700;
    margin-bottom: 0.3rem; /* Slightly more spacing */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.3;
    max-width: calc(100% - 30px); /* Reserve space for arrow */
  }

  .lesson-subtitle {
    font-size: 0.9rem; /* Increased font size */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.3;
    max-width: calc(100% - 30px); /* Reserve space for arrow */
  }

  /* Enhanced mobile path styling with safe boundaries */
  .lesson-path {
    stroke-width: 3; /* Slightly thinner for better mobile performance */
  }

  /* Mobile checkmark positioning to prevent cutoff */
  .lesson-checkmark {
    bottom: 8px; /* Moved further inward to prevent circle edge cutoff */
    right: 8px; /* Moved further inward to prevent circle edge cutoff */
    width: 26px;
    height: 26px;
    font-size: 0.75rem;
    border: 2px solid white; /* Consistent with desktop */
  }

  /* SVG container adjustments */
  .lessons-path-svg {
    width: 100%;
    height: 100%;
    overflow: visible; /* Allow paths to be visible even at edges */
  }
}

@media (max-width: 480px) {
  /* Very small screen adjustments with enhanced safe boundaries */
  .header {
    display: none !important;
  }

  .main-container {
    padding: 1rem 0; /* Remove horizontal padding */
    width: 100%;
    max-width: 100vw;
  }

  /* Extra small screen lessons container */
  .lessons-path-container {
    padding: 1.5rem 50px; /* Increased horizontal padding to prevent circle cutoff */
    min-height: 1600px; /* Increased height to accommodate larger nodes and spacing */
    overflow-x: hidden;
  }

  /* Extra small screen lesson adjustments - larger for better touch interaction */
  .lesson-circle {
    width: 90px;
    height: 90px;
  }

  .lesson-avatar {
    width: 70px;
    height: 70px;
  }

  /* Enhanced lesson info for small screens - larger for better usability */
  .lesson-info {
    min-width: 260px; /* Increased min-width to accommodate longer text */
    max-width: calc(
      75vw - 150px
    ); /* Increased max-width for more content space */
    gap: 0.75rem;
    padding: 1.25rem 1.25rem; /* Increased padding for better touch targets */
    min-height: 90px; /* Increased minimum height to match larger circles */
    border-radius: 14px; /* Larger border radius */
  }

  /* Small mobile lesson info hover effects with higher specificity */
  .lesson-node .lesson-info:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
  }

  /* Small mobile lesson info title and arrow hover effects with higher specificity */
  .lesson-node .lesson-info:hover .lesson-title {
    color: var(--sna-primary) !important;
    transform: scale(1.05) !important;
    text-shadow: 0 2px 8px rgba(99, 162, 155, 0.3) !important;
  }

  .lesson-node .lesson-info:hover .lesson-arrow {
    color: var(--sna-primary) !important;
    transform: translateX(3px) !important;
  }

  /* Small mobile lesson circle hover effects with higher specificity */
  .lesson-node .lesson-circle:hover {
    transform: scale(1.05) !important;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4) !important;
  }

  .lesson-node .lesson-circle.completed:hover {
    box-shadow: 0 10px 25px rgba(99, 162, 155, 0.5) !important;
  }

  .lesson-node .lesson-circle.in-progress:hover {
    box-shadow: 0 10px 25px rgba(99, 162, 155, 0.4) !important;
  }

  .lesson-node {
    gap: 0.75rem; /* Increased gap for better spacing */
    max-width: calc(
      100vw - 120px
    ); /* Adjusted boundary to prevent cutoff with increased padding */
    margin-bottom: 1.75rem; /* Add more vertical spacing between nodes */
  }

  .lesson-title {
    font-size: 1rem; /* Increased font size for better readability */
    font-weight: 700;
    margin-bottom: 0.2rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.2;
    max-width: calc(100% - 25px); /* Reserve space for arrow */
  }

  .lesson-subtitle {
    font-size: 0.85rem; /* Increased font size for better readability */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.2;
    max-width: calc(100% - 25px); /* Reserve space for arrow */
  }

  /* Optimized path visibility for very small screens */
  .lesson-path {
    stroke-width: 3; /* Slightly thinner for performance */
  }

  /* Properly positioned checkmark for very small screens */
  .lesson-checkmark {
    width: 24px;
    height: 24px;
    font-size: 0.7rem;
    bottom: 6px; /* Moved further inward to prevent circle edge cutoff */
    right: 6px; /* Moved further inward to prevent circle edge cutoff */
    border: 2px solid white; /* Consistent border */
  }
}

/* Additional mobile-specific curve enhancements */
@media (max-width: 768px) {
  /* Ensure smooth path animations on mobile */
  .lesson-path.completed {
    stroke: var(--sna-primary);
    stroke-dasharray: none;
    animation: drawPath 0.8s ease-out;
  }

  .lesson-path.incomplete {
    stroke: var(--text-muted);
    stroke-dasharray: 15, 8; /* Adjusted dash pattern for mobile */
  }
}

/* Path drawing animation for completed lessons */
@keyframes drawPath {
  from {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
  }
  to {
    stroke-dasharray: none;
    stroke-dashoffset: 0;
  }
}

/* Loading indicator */
.loading-indicator {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  color: var(--text-light);
  text-align: center;
}

.loading-indicator i {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: var(--sna-primary);
}

.loading-indicator p {
  font-size: 1.1rem;
  margin: 0;
}

/* Extra small screens (320px and below) */
@media (max-width: 320px) {
  .header {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  .main-container {
    margin-top: 0 !important;
    padding-top: 0.5rem !important;
  }
}
